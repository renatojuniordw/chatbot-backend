'use strict';
const _0xafcb01 = _0x2e9f;
function _0x3b7e() {
    const _0x348f26 = [
        '3363017WFrrbP',
        'value',
        'y\x20exists.',
        'test',
        'ls/Plan',
        'required',
        'ser',
        'lcançado:\x20',
        'ls/User',
        'ários\x20já\x20a',
        'queues',
        '__importSt',
        '232ThyqHW',
        '10hNIRrv',
        '2|0|4|3|1',
        'writable',
        'object',
        'admin',
        'getOwnProp',
        'call',
        'reload',
        'SerializeU',
        'defineProp',
        'configurab',
        'nding',
        '../../help',
        '6771sTAOWJ',
        'iKsQR',
        'ers/Serial',
        'hasOwnProp',
        'RTOVx',
        'EYdrj',
        'XrjbI',
        'CVpuS',
        'ertyDescri',
        'yup',
        'imo\x20de\x20usu',
        'ail\x20alread',
        'Check-emai',
        'min',
        '__importDe',
        '__esModule',
        'ls/Company',
        'TqRmp',
        'default',
        'erty',
        'where',
        'Número\x20máx',
        'izeUser',
        'validate',
        'LOlRB',
        '80335SaWtOH',
        'rs/AppErro',
        'companyId',
        'password',
        'Nbaya',
        'string',
        'users',
        'prototype',
        'findOne',
        'get',
        'split',
        '1039841FmOltd',
        '../../erro',
        'plan',
        '__setModul',
        'ZAvtm',
        '$set',
        'uFBbJ',
        '788780wkhcKd',
        '18mhBFnc',
        'fault',
        'count',
        '592312lWkKLj',
        'ppWms',
        'gvtHW',
        '__createBi',
        'RDJHt',
        'XgUmo',
        'email',
        'message',
        'tQnIR',
        'th\x20this\x20em',
        'wfFqk',
        '../../mode',
        'enumerable',
        'company',
        '131661rKmZmM',
        'ptor',
        'model',
        'eDefault',
        'ezLfG',
        'name',
        'vkTFJ',
        'create',
        'cwOOB',
        'include',
        'bIrGc',
        'shape',
        'An\x20user\x20wi',
        '28nFujdC'
    ];
    _0x3b7e = function () {
        return _0x348f26;
    };
    return _0x3b7e();
}
(function (_0x5c62c6, _0xedb3d7) {
    const _0x56fd5a = _0x2e9f, _0x298d2f = _0x5c62c6();
    while (!![]) {
        try {
            const _0x2f4f54 = parseInt(_0x56fd5a(0x157)) / (-0x33 * -0xad + 0x26 * -0xe9 + 0x20) + parseInt(_0x56fd5a(0x10d)) / (-0xd * -0x28d + -0x1ba2 + -0x585) * (parseInt(_0x56fd5a(0x128)) / (-0x45c + -0x14c * -0x1c + -0x1ff1)) + -parseInt(_0x56fd5a(0x153)) / (-0x3b * -0x6f + 0x429 + -0x2 * 0xedd) + -parseInt(_0x56fd5a(0x141)) / (0xfd3 + -0x1a3 * -0x12 + -0x2d44) * (parseInt(_0x56fd5a(0x154)) / (-0x81 * -0x11 + -0x1f51 + 0x16c6)) + parseInt(_0x56fd5a(0x10e)) / (-0xcff + 0x1f * -0x1d + 0x1089) + -parseInt(_0x56fd5a(0x11a)) / (-0xbec + -0x503 * -0x2 + -0xd * -0x26) * (parseInt(_0x56fd5a(0x100)) / (-0x17b9 * 0x1 + 0x2c5 * 0x1 + 0x14fd)) + -parseInt(_0x56fd5a(0x11b)) / (0x1f83 + -0x74 * 0xf + 0x18ad * -0x1) * (parseInt(_0x56fd5a(0x14c)) / (-0x1304 + -0x1d0c + 0x301b));
            if (_0x2f4f54 === _0xedb3d7)
                break;
            else
                _0x298d2f['push'](_0x298d2f['shift']());
        } catch (_0x4dd0c9) {
            _0x298d2f['push'](_0x298d2f['shift']());
        }
    }
}(_0x3b7e, 0x7c623 + -0x50412 * 0x1 + 0x1f23 * 0x14));
function _0x2e9f(_0xffc001, _0x3473d9) {
    const _0x39f667 = _0x3b7e();
    return _0x2e9f = function (_0x39182a, _0xe3939d) {
        _0x39182a = _0x39182a - (-0x1 * 0x314 + 0x1c27 * 0x1 + -0x1813);
        let _0x13bb18 = _0x39f667[_0x39182a];
        return _0x13bb18;
    }, _0x2e9f(_0xffc001, _0x3473d9);
}
var __createBinding = this && this[_0xafcb01(0x15a) + _0xafcb01(0x126)] || (Object[_0xafcb01(0x107)] ? function (_0x4bacba, _0x2b7c28, _0x38138a, _0x405fc5) {
        const _0x3da0ba = _0xafcb01, _0x510ace = {};
        _0x510ace[_0x3da0ba(0x108)] = function (_0x220579, _0x587d41) {
            return _0x220579 === _0x587d41;
        }, _0x510ace[_0x3da0ba(0x104)] = function (_0x3c8d32, _0x1dd346) {
            return _0x3c8d32 in _0x1dd346;
        }, _0x510ace[_0x3da0ba(0x145)] = _0x3da0ba(0x14a);
        const _0x59b54f = _0x510ace;
        if (_0x59b54f[_0x3da0ba(0x108)](_0x405fc5, undefined))
            _0x405fc5 = _0x38138a;
        var _0xb78124 = Object[_0x3da0ba(0x120) + _0x3da0ba(0x130) + _0x3da0ba(0x101)](_0x2b7c28, _0x38138a);
        if (!_0xb78124 || (_0x59b54f[_0x3da0ba(0x104)](_0x59b54f[_0x3da0ba(0x145)], _0xb78124) ? !_0x2b7c28[_0x3da0ba(0x137)] : _0xb78124[_0x3da0ba(0x11d)] || _0xb78124[_0x3da0ba(0x125) + 'le'])) {
            const _0x948b8a = {};
            _0x948b8a[_0x3da0ba(0x163)] = !![], _0x948b8a[_0x3da0ba(0x14a)] = function () {
                return _0x2b7c28[_0x38138a];
            }, _0xb78124 = _0x948b8a;
        }
        Object[_0x3da0ba(0x124) + _0x3da0ba(0x13b)](_0x4bacba, _0x405fc5, _0xb78124);
    } : function (_0xf70cab, _0x2997c8, _0x55c8f4, _0x3cc0f7) {
        const _0x23c1bb = _0xafcb01, _0x3eeb57 = {};
        _0x3eeb57[_0x23c1bb(0x106)] = function (_0x9bafbc, _0x149d87) {
            return _0x9bafbc === _0x149d87;
        };
        const _0x407cde = _0x3eeb57;
        if (_0x407cde[_0x23c1bb(0x106)](_0x3cc0f7, undefined))
            _0x3cc0f7 = _0x55c8f4;
        _0xf70cab[_0x3cc0f7] = _0x2997c8[_0x55c8f4];
    }), __setModuleDefault = this && this[_0xafcb01(0x14f) + _0xafcb01(0x103)] || (Object[_0xafcb01(0x107)] ? function (_0x3ed80b, _0x464424) {
        const _0xc5ead7 = _0xafcb01, _0x34e28e = {};
        _0x34e28e[_0xc5ead7(0x12c)] = _0xc5ead7(0x13a);
        const _0x13eb58 = _0x34e28e, _0x3f5a2d = {};
        _0x3f5a2d[_0xc5ead7(0x163)] = !![], _0x3f5a2d[_0xc5ead7(0x10f)] = _0x464424, Object[_0xc5ead7(0x124) + _0xc5ead7(0x13b)](_0x3ed80b, _0x13eb58[_0xc5ead7(0x12c)], _0x3f5a2d);
    } : function (_0x5100b6, _0x5a2504) {
        const _0x51a572 = _0xafcb01, _0x563e0d = {};
        _0x563e0d[_0x51a572(0x161)] = _0x51a572(0x13a);
        const _0x972944 = _0x563e0d;
        _0x5100b6[_0x972944[_0x51a572(0x161)]] = _0x5a2504;
    }), __importStar = this && this[_0xafcb01(0x119) + 'ar'] || function (_0x12bf6d) {
        const _0x1152b7 = _0xafcb01, _0x332074 = {
                'XrjbI': _0x1152b7(0x11c),
                'CVpuS': function (_0x1393a2, _0x1d6985, _0x31d90f) {
                    return _0x1393a2(_0x1d6985, _0x31d90f);
                },
                'ZAvtm': function (_0x44d127, _0x366f58) {
                    return _0x44d127 != _0x366f58;
                },
                'EYdrj': function (_0x190d1f, _0x8c99a9) {
                    return _0x190d1f !== _0x8c99a9;
                },
                'LOlRB': _0x1152b7(0x13a),
                'RDJHt': function (_0x50afec, _0x747ae1, _0x1a8814, _0x2805aa) {
                    return _0x50afec(_0x747ae1, _0x1a8814, _0x2805aa);
                }
            }, _0x5afa1b = _0x332074[_0x1152b7(0x12e)][_0x1152b7(0x14b)]('|');
        let _0x82f63e = -0xe * -0x19f + 0x1061 + -0x2713;
        while (!![]) {
            switch (_0x5afa1b[_0x82f63e++]) {
            case '0':
                var _0x6d9e17 = {};
                continue;
            case '1':
                return _0x6d9e17;
            case '2':
                if (_0x12bf6d && _0x12bf6d[_0x1152b7(0x137)])
                    return _0x12bf6d;
                continue;
            case '3':
                _0x332074[_0x1152b7(0x12f)](__setModuleDefault, _0x6d9e17, _0x12bf6d);
                continue;
            case '4':
                if (_0x332074[_0x1152b7(0x150)](_0x12bf6d, null)) {
                    for (var _0x33e73f in _0x12bf6d)
                        if (_0x332074[_0x1152b7(0x12d)](_0x33e73f, _0x332074[_0x1152b7(0x140)]) && Object[_0x1152b7(0x148)][_0x1152b7(0x12b) + _0x1152b7(0x13b)][_0x1152b7(0x121)](_0x12bf6d, _0x33e73f))
                            _0x332074[_0x1152b7(0x15b)](__createBinding, _0x6d9e17, _0x12bf6d, _0x33e73f);
                }
                continue;
            }
            break;
        }
    }, __importDefault = this && this[_0xafcb01(0x136) + _0xafcb01(0x155)] || function (_0x30ecab) {
        const _0x3b1abc = _0xafcb01;
        return _0x30ecab && _0x30ecab[_0x3b1abc(0x137)] ? _0x30ecab : { 'default': _0x30ecab };
    };
const _0x2f33cf = {};
_0x2f33cf[_0xafcb01(0x10f)] = !![], Object[_0xafcb01(0x124) + _0xafcb01(0x13b)](exports, _0xafcb01(0x137), _0x2f33cf);
const Yup = __importStar(require(_0xafcb01(0x131))), AppError_1 = __importDefault(require(_0xafcb01(0x14d) + _0xafcb01(0x142) + 'r')), SerializeUser_1 = require(_0xafcb01(0x127) + _0xafcb01(0x12a) + _0xafcb01(0x13e)), User_1 = __importDefault(require(_0xafcb01(0x162) + _0xafcb01(0x116))), Plan_1 = __importDefault(require(_0xafcb01(0x162) + _0xafcb01(0x112))), Company_1 = __importDefault(require(_0xafcb01(0x162) + _0xafcb01(0x138))), CreateUserService = async ({
        email: _0x289c16,
        password: _0x35c49b,
        name: _0x166c4a,
        queueIds: queueIds = [],
        companyId: _0x58b441,
        profile: profile = _0xafcb01(0x11f),
        whatsappId: _0x5b368e
    }) => {
        const _0x3f1e40 = _0xafcb01, _0x5728fa = {};
        _0x5728fa[_0x3f1e40(0x10a)] = function (_0x3273e8, _0xf19204) {
            return _0x3273e8 !== _0xf19204;
        }, _0x5728fa[_0x3f1e40(0x15f)] = _0x3f1e40(0x14e), _0x5728fa[_0x3f1e40(0x159)] = function (_0x468e7e, _0x53a00f) {
            return _0x468e7e >= _0x53a00f;
        }, _0x5728fa[_0x3f1e40(0x158)] = _0x3f1e40(0x134) + 'l', _0x5728fa[_0x3f1e40(0x129)] = _0x3f1e40(0x10c) + _0x3f1e40(0x160) + _0x3f1e40(0x133) + _0x3f1e40(0x110), _0x5728fa[_0x3f1e40(0x15c)] = function (_0x143c4c, _0xa81ce8) {
            return _0x143c4c || _0xa81ce8;
        }, _0x5728fa[_0x3f1e40(0x152)] = _0x3f1e40(0x118), _0x5728fa[_0x3f1e40(0x139)] = _0x3f1e40(0x164);
        const _0x2c425c = _0x5728fa;
        if (_0x2c425c[_0x3f1e40(0x10a)](_0x58b441, undefined)) {
            const _0x3b04ba = {};
            _0x3b04ba['id'] = _0x58b441;
            const _0x4eb631 = {};
            _0x4eb631[_0x3f1e40(0x102)] = Plan_1[_0x3f1e40(0x13a)], _0x4eb631['as'] = _0x2c425c[_0x3f1e40(0x15f)];
            const _0x355371 = {};
            _0x355371[_0x3f1e40(0x13c)] = _0x3b04ba, _0x355371[_0x3f1e40(0x109)] = [_0x4eb631];
            const _0x5bf9fb = await Company_1[_0x3f1e40(0x13a)][_0x3f1e40(0x149)](_0x355371);
            if (_0x2c425c[_0x3f1e40(0x10a)](_0x5bf9fb, null)) {
                const _0x2da99e = {};
                _0x2da99e[_0x3f1e40(0x143)] = _0x58b441;
                const _0x11383f = {};
                _0x11383f[_0x3f1e40(0x13c)] = _0x2da99e;
                const _0x38d638 = await User_1[_0x3f1e40(0x13a)][_0x3f1e40(0x156)](_0x11383f);
                if (_0x2c425c[_0x3f1e40(0x159)](_0x38d638, _0x5bf9fb[_0x3f1e40(0x14e)][_0x3f1e40(0x147)]))
                    throw new AppError_1[(_0x3f1e40(0x13a))](_0x3f1e40(0x13d) + _0x3f1e40(0x132) + _0x3f1e40(0x117) + _0x3f1e40(0x115) + _0x38d638);
            }
        }
        const _0x34a7b4 = Yup[_0x3f1e40(0x11e)]()[_0x3f1e40(0x10b)]({
            'name': Yup[_0x3f1e40(0x146)]()[_0x3f1e40(0x113)]()[_0x3f1e40(0x135)](0xcd8 + 0x1802 + -0x24d8),
            'email': Yup[_0x3f1e40(0x146)]()[_0x3f1e40(0x15d)]()[_0x3f1e40(0x113)]()[_0x3f1e40(0x111)](_0x2c425c[_0x3f1e40(0x158)], _0x2c425c[_0x3f1e40(0x129)], async _0x4a4780 => {
                const _0x3e0aa5 = _0x3f1e40;
                if (!_0x4a4780)
                    return ![];
                const _0x5f4d70 = {};
                _0x5f4d70[_0x3e0aa5(0x15d)] = _0x4a4780;
                const _0xf89a69 = {};
                _0xf89a69[_0x3e0aa5(0x13c)] = _0x5f4d70;
                const _0x56c149 = await User_1[_0x3e0aa5(0x13a)][_0x3e0aa5(0x149)](_0xf89a69);
                return !_0x56c149;
            }),
            'password': Yup[_0x3f1e40(0x146)]()[_0x3f1e40(0x113)]()[_0x3f1e40(0x135)](-0x2ad * 0x5 + -0x1 * -0x159d + -0x837)
        });
        try {
            const _0x1737f5 = {};
            _0x1737f5[_0x3f1e40(0x15d)] = _0x289c16, _0x1737f5[_0x3f1e40(0x144)] = _0x35c49b, _0x1737f5[_0x3f1e40(0x105)] = _0x166c4a, await _0x34a7b4[_0x3f1e40(0x13f)](_0x1737f5);
        } catch (_0x516b41) {
            throw new AppError_1[(_0x3f1e40(0x13a))](_0x516b41[_0x3f1e40(0x15e)]);
        }
        const _0x1f2017 = await User_1[_0x3f1e40(0x13a)][_0x3f1e40(0x107)]({
            'email': _0x289c16,
            'password': _0x35c49b,
            'name': _0x166c4a,
            'companyId': _0x58b441,
            'profile': profile,
            'whatsappId': _0x2c425c[_0x3f1e40(0x15c)](_0x5b368e, null)
        }, {
            'include': [
                _0x2c425c[_0x3f1e40(0x152)],
                _0x2c425c[_0x3f1e40(0x139)]
            ]
        });
        await _0x1f2017[_0x3f1e40(0x151)](_0x2c425c[_0x3f1e40(0x152)], queueIds), await _0x1f2017[_0x3f1e40(0x122)]();
        const _0x5c0bb3 = (-0x6aa + 0x22d9 + 0x1c2f * -0x1, SerializeUser_1[_0x3f1e40(0x123) + _0x3f1e40(0x114)])(_0x1f2017);
        return _0x5c0bb3;
    };
exports[_0xafcb01(0x13a)] = CreateUserService;