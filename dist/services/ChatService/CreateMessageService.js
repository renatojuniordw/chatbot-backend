'use strict';
const _0x429a6e = _0x2ad4;
(function (_0xb05184, _0xd0785e) {
    const _0x1ccc2d = _0x2ad4, _0x4d586c = _0xb05184();
    while (!![]) {
        try {
            const _0x176150 = parseInt(_0x1ccc2d(0x180)) / (-0x648 * -0x3 + 0x1d67 + 0x19 * -0x1ee) + parseInt(_0x1ccc2d(0x181)) / (0x1 * -0xa13 + -0x2 * 0xc33 + 0x227b) * (-parseInt(_0x1ccc2d(0x174)) / (0x227b + 0xba9 + -0xf1 * 0x31)) + -parseInt(_0x1ccc2d(0x16f)) / (-0x1 * -0x24af + -0x23c4 + -0x15 * 0xb) + -parseInt(_0x1ccc2d(0x170)) / (0x218f + 0x3 * 0x345 + 0x1 * -0x2b59) * (parseInt(_0x1ccc2d(0x17b)) / (-0xb * -0x17 + -0x1328 + 0x1 * 0x1231)) + -parseInt(_0x1ccc2d(0x16c)) / (0x457 + 0x622 + -0xa72) * (parseInt(_0x1ccc2d(0x196)) / (0x2466 + 0x141 + -0x259f * 0x1)) + parseInt(_0x1ccc2d(0x17d)) / (0x21ac + 0x1abb + -0x1e2f * 0x2) + parseInt(_0x1ccc2d(0x199)) / (-0x961 + -0xe5a + 0x17c5) * (-parseInt(_0x1ccc2d(0x198)) / (-0x2390 + -0x4 * -0x6d4 + 0x84b));
            if (_0x176150 === _0xd0785e)
                break;
            else
                _0x4d586c['push'](_0x4d586c['shift']());
        } catch (_0x594355) {
            _0x4d586c['push'](_0x4d586c['shift']());
        }
    }
}(_0x2297, -0x5a67 + 0x15bb * -0x37 + 0x2 * 0x56b15));
var __importDefault = this && this[_0x429a6e(0x195) + _0x429a6e(0x18e)] || function (_0x4491b3) {
    const _0x4c0d07 = _0x429a6e;
    return _0x4491b3 && _0x4491b3[_0x4c0d07(0x18b)] ? _0x4491b3 : { 'default': _0x4491b3 };
};
function _0x2ad4(_0x514805, _0x55f936) {
    const _0x4c8bc0 = _0x2297();
    return _0x2ad4 = function (_0x3f4df9, _0x1a1f1f) {
        _0x3f4df9 = _0x3f4df9 - (-0x163d + 0x1b6f + -0x6 * 0xa1);
        let _0x2f492e = _0x4c8bc0[_0x3f4df9];
        return _0x2f492e;
    }, _0x2ad4(_0x514805, _0x55f936);
}
const _0x59fdad = {};
_0x59fdad[_0x429a6e(0x18a)] = !![], Object[_0x429a6e(0x187) + _0x429a6e(0x184)](exports, _0x429a6e(0x18b), _0x59fdad);
function _0x2297() {
    const _0x1322a6 = [
        'message',
        'defineProp',
        'chat',
        'where',
        'value',
        '__esModule',
        'uvFpa',
        'update',
        'fault',
        'umHZy',
        'reload',
        'vvBmz',
        'userId',
        'sender',
        'ls/ChatMes',
        '__importDe',
        '111064nxmxYm',
        '../../mode',
        '4246znDCDA',
        '3770YmhxMZ',
        'users',
        'default',
        'include',
        '210aLhtOk',
        'findByPk',
        'ls/Chat',
        '173688SaXFCN',
        '10JzYzDu',
        'chatId',
        'ls/ChatUse',
        'unreads',
        '2427IICBSu',
        'YCKDV',
        'attributes',
        'LWOCi',
        'ls/User',
        'lastMessag',
        'model',
        '537702uOQTdi',
        'LnPCV',
        '6113988VvVlRd',
        'create',
        'name',
        '636079yKSOcJ',
        '370BLWzJn',
        'findAll',
        'senderId',
        'erty',
        'sage'
    ];
    _0x2297 = function () {
        return _0x1322a6;
    };
    return _0x2297();
}
const Chat_1 = __importDefault(require(_0x429a6e(0x197) + _0x429a6e(0x16e))), ChatMessage_1 = __importDefault(require(_0x429a6e(0x197) + _0x429a6e(0x194) + _0x429a6e(0x185))), ChatUser_1 = __importDefault(require(_0x429a6e(0x197) + _0x429a6e(0x172) + 'r')), User_1 = __importDefault(require(_0x429a6e(0x197) + _0x429a6e(0x178)));
async function CreateMessageService({
    senderId: _0x434684,
    chatId: _0x53bfe1,
    message: _0x2c4260
}) {
    const _0x47c329 = _0x429a6e, _0x5814c9 = {};
    _0x5814c9[_0x47c329(0x18f)] = _0x47c329(0x193), _0x5814c9[_0x47c329(0x17c)] = _0x47c329(0x17f), _0x5814c9[_0x47c329(0x18c)] = _0x47c329(0x188), _0x5814c9[_0x47c329(0x191)] = _0x47c329(0x19a), _0x5814c9[_0x47c329(0x175)] = function (_0x16ffc3, _0x25d1a3) {
        return _0x16ffc3 === _0x25d1a3;
    }, _0x5814c9[_0x47c329(0x177)] = function (_0x7341c0, _0x25696a) {
        return _0x7341c0 + _0x25696a;
    };
    const _0x4c5d55 = _0x5814c9, _0xd54703 = {};
    _0xd54703[_0x47c329(0x183)] = _0x434684, _0xd54703[_0x47c329(0x171)] = _0x53bfe1, _0xd54703[_0x47c329(0x186)] = _0x2c4260;
    const _0x2ddc39 = await ChatMessage_1[_0x47c329(0x19b)][_0x47c329(0x17e)](_0xd54703), _0x2f0b02 = {};
    _0x2f0b02[_0x47c329(0x17a)] = User_1[_0x47c329(0x19b)], _0x2f0b02['as'] = _0x4c5d55[_0x47c329(0x18f)], _0x2f0b02[_0x47c329(0x176)] = [
        'id',
        _0x4c5d55[_0x47c329(0x17c)]
    ];
    const _0x4d9ef6 = {};
    _0x4d9ef6[_0x47c329(0x17a)] = Chat_1[_0x47c329(0x19b)], _0x4d9ef6['as'] = _0x4c5d55[_0x47c329(0x18c)], _0x4d9ef6[_0x47c329(0x19c)] = [{
            'model': ChatUser_1[_0x47c329(0x19b)],
            'as': _0x4c5d55[_0x47c329(0x191)]
        }];
    const _0x34916d = {};
    _0x34916d[_0x47c329(0x19c)] = [
        _0x2f0b02,
        _0x4d9ef6
    ], await _0x2ddc39[_0x47c329(0x190)](_0x34916d);
    const _0x5956a7 = await User_1[_0x47c329(0x19b)][_0x47c329(0x16d)](_0x434684), _0x485318 = {};
    _0x485318[_0x47c329(0x179) + 'e'] = _0x5956a7[_0x47c329(0x17f)] + ':\x20' + _0x2c4260, await _0x2ddc39[_0x47c329(0x188)][_0x47c329(0x18d)](_0x485318);
    const _0x3a9493 = {};
    _0x3a9493[_0x47c329(0x171)] = _0x53bfe1;
    const _0x2f5e50 = {};
    _0x2f5e50[_0x47c329(0x189)] = _0x3a9493;
    const _0x345430 = await ChatUser_1[_0x47c329(0x19b)][_0x47c329(0x182)](_0x2f5e50);
    for (let _0x581fed of _0x345430) {
        if (_0x4c5d55[_0x47c329(0x175)](_0x581fed[_0x47c329(0x192)], _0x434684)) {
            const _0xfe5810 = {};
            _0xfe5810[_0x47c329(0x173)] = 0x0, await _0x581fed[_0x47c329(0x18d)](_0xfe5810);
        } else
            await _0x581fed[_0x47c329(0x18d)]({ 'unreads': _0x4c5d55[_0x47c329(0x177)](_0x581fed[_0x47c329(0x173)], 0xfa6 + -0x116 * -0xe + -0x1ed9) });
    }
    return _0x2ddc39;
}
exports[_0x429a6e(0x19b)] = CreateMessageService;