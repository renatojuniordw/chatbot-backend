'use strict';
const _0x325bb1 = _0x7904;
(function (_0x477eca, _0x432b29) {
    const _0x1dae59 = _0x7904, _0x4f58b4 = _0x477eca();
    while (!![]) {
        try {
            const _0x1693f4 = -parseInt(_0x1dae59(0x17c)) / (-0x22f3 + -0x15aa * 0x1 + 0x389e) * (-parseInt(_0x1dae59(0x19c)) / (0x14ed + -0x19cf + 0x4e4)) + parseInt(_0x1dae59(0x19e)) / (0xa36 + -0x2dd * 0xd + 0x1b06) * (parseInt(_0x1dae59(0x183)) / (-0x19e8 + -0x12d2 + 0x2cbe)) + -parseInt(_0x1dae59(0x17a)) / (-0x2 * -0xb3f + 0x5d * 0x11 + -0x1ca6) + -parseInt(_0x1dae59(0x18d)) / (0x1d74 + 0x2 * -0x9dc + -0x4db * 0x2) * (-parseInt(_0x1dae59(0x176)) / (0xd32 + 0x1b45 + -0xa1c * 0x4)) + -parseInt(_0x1dae59(0x180)) / (-0x1e29 + 0x17 * 0x157 + 0x2 * -0x50) * (-parseInt(_0x1dae59(0x165)) / (0x2f9 * -0x2 + -0x2534 + 0xb * 0x3ed)) + parseInt(_0x1dae59(0x17d)) / (-0x17e4 + 0x10e4 + 0x1 * 0x70a) + parseInt(_0x1dae59(0x16c)) / (-0x2007 + 0x20e3 * 0x1 + 0x1 * -0xd1) * (-parseInt(_0x1dae59(0x177)) / (-0x1 * 0x2419 + 0x1ec0 + 0x1 * 0x565));
            if (_0x1693f4 === _0x432b29)
                break;
            else
                _0x4f58b4['push'](_0x4f58b4['shift']());
        } catch (_0x1d0367) {
            _0x4f58b4['push'](_0x4f58b4['shift']());
        }
    }
}(_0x4537, 0x276e9 + 0xfefd8 + 0xc7b3 * -0xb));
var __importDefault = this && this[_0x325bb1(0x16a) + _0x325bb1(0x16e)] || function (_0x562516) {
    const _0x2f4377 = _0x325bb1;
    return _0x562516 && _0x562516[_0x2f4377(0x191)] ? _0x562516 : { 'default': _0x562516 };
};
const _0x2b9f51 = {};
_0x2b9f51[_0x325bb1(0x187)] = !![], Object[_0x325bb1(0x18e) + _0x325bb1(0x1a0)](exports, _0x325bb1(0x191), _0x2b9f51);
const date_fns_1 = require(_0x325bb1(0x169)), sequelize_1 = require(_0x325bb1(0x19f)), Ticket_1 = __importDefault(require(_0x325bb1(0x195) + _0x325bb1(0x168))), ShowTicketService_1 = __importDefault(require(_0x325bb1(0x189) + _0x325bb1(0x193))), FindOrCreateATicketTrakingService_1 = __importDefault(require(_0x325bb1(0x174) + _0x325bb1(0x17f) + _0x325bb1(0x170) + _0x325bb1(0x197))), Setting_1 = __importDefault(require(_0x325bb1(0x195) + _0x325bb1(0x171))), Whatsapp_1 = __importDefault(require(_0x325bb1(0x195) + _0x325bb1(0x162) + 'p')), FindOrCreateTicketService = async (_0x4df133, _0x36824b, _0x2aa16a, _0x5459b5, _0x2ee719) => {
        const _0x40ef41 = _0x325bb1, _0x4a5dc0 = {
                'OHCBT': _0x40ef41(0x163),
                'oGPeT': _0x40ef41(0x178),
                'yxkEl': _0x40ef41(0x18b),
                'vjzBz': _0x40ef41(0x167),
                'aRaWQ': function (_0x1d07f6, _0x346139) {
                    return _0x1d07f6 === _0x346139;
                },
                'oQLIH': function (_0x860ac1, _0xf98101) {
                    return _0x860ac1 && _0xf98101;
                },
                'eEtYf': _0x40ef41(0x1a1),
                'yvosi': _0x40ef41(0x173) + _0x40ef41(0x16b),
                'wFzer': function (_0x359949, _0x5d1e55, _0x487f44) {
                    return _0x359949(_0x5d1e55, _0x487f44);
                }
            }, _0x3c1c30 = {
                [sequelize_1['Op']['or']]: [
                    _0x4a5dc0[_0x40ef41(0x192)],
                    _0x4a5dc0[_0x40ef41(0x17e)],
                    _0x4a5dc0[_0x40ef41(0x161)]
                ]
            }, _0x5761c5 = {};
        _0x5761c5[_0x40ef41(0x18c)] = _0x3c1c30, _0x5761c5[_0x40ef41(0x194)] = _0x2ee719 ? _0x2ee719['id'] : _0x4df133['id'], _0x5761c5[_0x40ef41(0x166)] = _0x5459b5, _0x5761c5[_0x40ef41(0x175)] = _0x36824b;
        const _0x38bdde = {};
        _0x38bdde[_0x40ef41(0x164)] = _0x5761c5, _0x38bdde[_0x40ef41(0x182)] = [[
                'id',
                _0x4a5dc0[_0x40ef41(0x188)]
            ]];
        let _0x3ee457 = await Ticket_1[_0x40ef41(0x186)][_0x40ef41(0x185)](_0x38bdde);
        if (_0x3ee457) {
            const _0x5d7ae7 = {};
            _0x5d7ae7[_0x40ef41(0x18a) + _0x40ef41(0x184)] = _0x2aa16a, _0x5d7ae7[_0x40ef41(0x175)] = _0x36824b, await _0x3ee457[_0x40ef41(0x190)](_0x5d7ae7);
        }
        if (_0x4a5dc0[_0x40ef41(0x18f)](_0x3ee457?.[_0x40ef41(0x18c)], _0x4a5dc0[_0x40ef41(0x161)])) {
            const _0x3d6a4a = {};
            _0x3d6a4a[_0x40ef41(0x19b)] = null, _0x3d6a4a[_0x40ef41(0x196)] = null, await _0x3ee457[_0x40ef41(0x190)](_0x3d6a4a);
        }
        if (_0x4a5dc0[_0x40ef41(0x19a)](!_0x3ee457, _0x2ee719)) {
            const _0x3a3fd5 = {};
            _0x3a3fd5[_0x40ef41(0x194)] = _0x2ee719['id'];
            const _0x2d27e7 = {};
            _0x2d27e7[_0x40ef41(0x164)] = _0x3a3fd5, _0x2d27e7[_0x40ef41(0x182)] = [[
                    _0x4a5dc0[_0x40ef41(0x19d)],
                    _0x4a5dc0[_0x40ef41(0x188)]
                ]], _0x3ee457 = await Ticket_1[_0x40ef41(0x186)][_0x40ef41(0x185)](_0x2d27e7);
            if (_0x3ee457) {
                const _0x5d4577 = {};
                _0x5d4577[_0x40ef41(0x18c)] = _0x4a5dc0[_0x40ef41(0x17e)], _0x5d4577[_0x40ef41(0x196)] = null, _0x5d4577[_0x40ef41(0x18a) + _0x40ef41(0x184)] = _0x2aa16a, _0x5d4577[_0x40ef41(0x19b)] = null, _0x5d4577[_0x40ef41(0x166)] = _0x5459b5, await _0x3ee457[_0x40ef41(0x190)](_0x5d4577);
                const _0x4ce849 = {};
                _0x4ce849[_0x40ef41(0x179)] = _0x3ee457['id'], _0x4ce849[_0x40ef41(0x166)] = _0x5459b5, _0x4ce849[_0x40ef41(0x175)] = _0x3ee457[_0x40ef41(0x175)], _0x4ce849[_0x40ef41(0x196)] = _0x3ee457[_0x40ef41(0x196)], await (0x267b + 0xa03 * 0x1 + 0x307e * -0x1, FindOrCreateATicketTrakingService_1[_0x40ef41(0x186)])(_0x4ce849);
            }
            const _0x404870 = {};
            _0x404870[_0x40ef41(0x16d)] = _0x4a5dc0[_0x40ef41(0x16f)];
            const _0x524199 = {};
            _0x524199[_0x40ef41(0x164)] = _0x404870;
            const _0x227962 = await Setting_1[_0x40ef41(0x186)][_0x40ef41(0x185)](_0x524199), _0x33f002 = _0x227962 ? _0x4a5dc0[_0x40ef41(0x172)](parseInt, _0x227962[_0x40ef41(0x187)], 0x1 * -0x2015 + 0xfed + 0x1032) : -0x1325 + 0x2927 + 0x61e;
        }
        if (_0x4a5dc0[_0x40ef41(0x19a)](!_0x3ee457, !_0x2ee719)) {
            _0x3ee457 = await Ticket_1[_0x40ef41(0x186)][_0x40ef41(0x185)]({
                'where': {
                    'updatedAt': {
                        [sequelize_1['Op'][_0x40ef41(0x181)]]: [
                            +(-0x23aa * -0x1 + -0x4ca * 0x8 + 0x2a6, date_fns_1[_0x40ef41(0x198)])(new Date(), -0x1 * -0x2564 + 0xb10 + -0x3ba * 0xd),
                            +new Date()
                        ]
                    },
                    'contactId': _0x4df133['id']
                },
                'order': [[
                        _0x4a5dc0[_0x40ef41(0x19d)],
                        _0x4a5dc0[_0x40ef41(0x188)]
                    ]]
            });
            if (_0x3ee457) {
                const _0x557326 = {};
                _0x557326[_0x40ef41(0x18c)] = _0x4a5dc0[_0x40ef41(0x17e)], _0x557326[_0x40ef41(0x196)] = null, _0x557326[_0x40ef41(0x18a) + _0x40ef41(0x184)] = _0x2aa16a, _0x557326[_0x40ef41(0x19b)] = null, _0x557326[_0x40ef41(0x166)] = _0x5459b5, await _0x3ee457[_0x40ef41(0x190)](_0x557326);
                const _0x41f734 = {};
                _0x41f734[_0x40ef41(0x179)] = _0x3ee457['id'], _0x41f734[_0x40ef41(0x166)] = _0x5459b5, _0x41f734[_0x40ef41(0x175)] = _0x3ee457[_0x40ef41(0x175)], _0x41f734[_0x40ef41(0x196)] = _0x3ee457[_0x40ef41(0x196)], await (0x27 * -0x3a + -0x2f9 * -0x1 + 0x4f * 0x13, FindOrCreateATicketTrakingService_1[_0x40ef41(0x186)])(_0x41f734);
            }
        }
        const _0x244423 = {};
        _0x244423['id'] = _0x36824b;
        const _0x327ca9 = {};
        _0x327ca9[_0x40ef41(0x164)] = _0x244423;
        const _0x28e952 = await Whatsapp_1[_0x40ef41(0x186)][_0x40ef41(0x185)](_0x327ca9);
        if (!_0x3ee457) {
            const _0x3eeaec = {};
            _0x3eeaec[_0x40ef41(0x194)] = _0x2ee719 ? _0x2ee719['id'] : _0x4df133['id'], _0x3eeaec[_0x40ef41(0x18c)] = _0x4a5dc0[_0x40ef41(0x17e)], _0x3eeaec[_0x40ef41(0x160)] = !!_0x2ee719, _0x3eeaec[_0x40ef41(0x18a) + _0x40ef41(0x184)] = _0x2aa16a, _0x3eeaec[_0x40ef41(0x175)] = _0x36824b, _0x3eeaec[_0x40ef41(0x199)] = _0x28e952, _0x3eeaec[_0x40ef41(0x166)] = _0x5459b5, _0x3ee457 = await Ticket_1[_0x40ef41(0x186)][_0x40ef41(0x17b)](_0x3eeaec);
            const _0x1fc7d8 = {};
            _0x1fc7d8[_0x40ef41(0x179)] = _0x3ee457['id'], _0x1fc7d8[_0x40ef41(0x166)] = _0x5459b5, _0x1fc7d8[_0x40ef41(0x175)] = _0x36824b, _0x1fc7d8[_0x40ef41(0x196)] = _0x3ee457[_0x40ef41(0x196)], await (0x1 * -0x3de + -0x8fc + -0xcda * -0x1, FindOrCreateATicketTrakingService_1[_0x40ef41(0x186)])(_0x1fc7d8);
        }
        return _0x3ee457 = await (0x9 * 0x1df + -0x10ae + 0x29 * -0x1, ShowTicketService_1[_0x40ef41(0x186)])(_0x3ee457['id'], _0x5459b5), _0x3ee457;
    };
function _0x7904(_0x428cd2, _0x2947a2) {
    const _0x2b1c8 = _0x4537();
    return _0x7904 = function (_0x1f1101, _0x247f65) {
        _0x1f1101 = _0x1f1101 - (-0x1ab * 0x2 + -0x1a * 0x6b + -0x7ca * -0x2);
        let _0x1af9c0 = _0x2b1c8[_0x1f1101];
        return _0x1af9c0;
    }, _0x7904(_0x428cd2, _0x2947a2);
}
function _0x4537() {
    const _0xe45da9 = [
        'pending',
        'ticketId',
        '5171025qeRoDq',
        'create',
        '4XpVYSU',
        '4616780bPGdeG',
        'oGPeT',
        'eateATicke',
        '8XEAAvZ',
        'between',
        'order',
        '16qcIkZo',
        'ages',
        'findOne',
        'default',
        'value',
        'vjzBz',
        './ShowTick',
        'unreadMess',
        'closed',
        'status',
        '42nCXYOr',
        'defineProp',
        'aRaWQ',
        'update',
        '__esModule',
        'OHCBT',
        'etService',
        'contactId',
        '../../mode',
        'userId',
        'rvice',
        'subHours',
        'whatsapp',
        'oQLIH',
        'queueId',
        '216642EhCeVU',
        'eEtYf',
        '784446PLCacm',
        'sequelize',
        'erty',
        'updatedAt',
        'isGroup',
        'yxkEl',
        'ls/Whatsap',
        'open',
        'where',
        '10347678kMPPgu',
        'companyId',
        'DESC',
        'ls/Ticket',
        'date-fns',
        '__importDe',
        'NewTicket',
        '176sqHepe',
        'key',
        'fault',
        'yvosi',
        'tTrakingSe',
        'ls/Setting',
        'wFzer',
        'timeCreate',
        './FindOrCr',
        'whatsappId',
        '235333lngagE',
        '1236120iLhnXF'
    ];
    _0x4537 = function () {
        return _0xe45da9;
    };
    return _0x4537();
}
exports[_0x325bb1(0x186)] = FindOrCreateTicketService;