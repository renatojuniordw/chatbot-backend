'use strict';
const _0xd5ba19 = _0x3560;
(function (_0x4a9964, _0x45d8df) {
    const _0x3d56c6 = _0x3560, _0x2a52f5 = _0x4a9964();
    while (!![]) {
        try {
            const _0x3ceb71 = parseInt(_0x3d56c6(0xf9)) / (-0x13fb + -0xe6c + 0x2268) + -parseInt(_0x3d56c6(0xf6)) / (0xab2 + -0x1648 + 0x6a * 0x1c) + -parseInt(_0x3d56c6(0xdf)) / (0x43d + 0x7a + -0x4b4) + parseInt(_0x3d56c6(0xe9)) / (-0x1 * 0x6a3 + -0x21e + 0x5 * 0x1c1) + -parseInt(_0x3d56c6(0xd1)) / (0x1621 + 0xba7 * -0x2 + -0x2 * -0x99) + -parseInt(_0x3d56c6(0xe0)) / (-0x215 * -0x8 + -0x63 * -0x25 + -0x1ef1) + -parseInt(_0x3d56c6(0xd8)) / (0x5 * -0xf1 + 0x17 * 0x71 + 0x13 * -0x49) * (-parseInt(_0x3d56c6(0xea)) / (-0x1a * -0x34 + 0x2394 + -0x28d4));
            if (_0x3ceb71 === _0x45d8df)
                break;
            else
                _0x2a52f5['push'](_0x2a52f5['shift']());
        } catch (_0x740de2) {
            _0x2a52f5['push'](_0x2a52f5['shift']());
        }
    }
}(_0x3368, -0x2 * 0x4646e + 0x8 * -0x11b8b + 0x1620e6));
function _0x3368() {
    const _0x1113e9 = [
        'like',
        'yTvAN',
        'name',
        'AtPSh',
        'col',
        'Tag.id',
        'value',
        'default',
        'companyId',
        'YtvZD',
        'Gosmj',
        '287232jabTYu',
        'IOOLV',
        'ls/TicketT',
        '427437xEJrHr',
        'count',
        'ASC',
        'gqlhK',
        'fault',
        'length',
        '../../mode',
        '2296545FlOIgi',
        'ntAll',
        'kYxJK',
        'ticketTags',
        'defineProp',
        'Guqwm',
        'ls/Tag',
        '7AQJBqS',
        'hasMore',
        'rwUCQ',
        'erty',
        'findAndCou',
        '.tagId',
        'sequelize',
        '976302YTYGWz',
        '349362IYaTyL',
        'OHcWT',
        '__esModule',
        'tags',
        'ticketsCou',
        'TiDpU',
        'color',
        'cqBPm',
        '__importDe',
        '128212uSfyey',
        '6567248vwaWth'
    ];
    _0x3368 = function () {
        return _0x1113e9;
    };
    return _0x3368();
}
var __importDefault = this && this[_0xd5ba19(0xe8) + _0xd5ba19(0xce)] || function (_0x2462f6) {
    const _0x3ad24c = _0xd5ba19;
    return _0x2462f6 && _0x2462f6[_0x3ad24c(0xe2)] ? _0x2462f6 : { 'default': _0x2462f6 };
};
const _0x1bde53 = {};
function _0x3560(_0x5a6fd9, _0x3efbd0) {
    const _0x468cf1 = _0x3368();
    return _0x3560 = function (_0x393f83, _0x4df8a2) {
        _0x393f83 = _0x393f83 - (0x1 * 0x1d1 + -0x1dfc + 0x1cf6);
        let _0x39e792 = _0x468cf1[_0x393f83];
        return _0x39e792;
    }, _0x3560(_0x5a6fd9, _0x3efbd0);
}
_0x1bde53[_0xd5ba19(0xf1)] = !![], Object[_0xd5ba19(0xd5) + _0xd5ba19(0xdb)](exports, _0xd5ba19(0xe2), _0x1bde53);
const sequelize_1 = require(_0xd5ba19(0xde)), Tag_1 = __importDefault(require(_0xd5ba19(0xd0) + _0xd5ba19(0xd7))), TicketTag_1 = __importDefault(require(_0xd5ba19(0xd0) + _0xd5ba19(0xf8) + 'ag')), ListService = async ({
        companyId: _0x4ac067,
        searchParam: _0x2df265,
        pageNumber: pageNumber = '1'
    }) => {
        const _0x41b42d = _0xd5ba19, _0x1c693f = {};
        _0x1c693f[_0x41b42d(0xe1)] = function (_0x3526ec, _0x436d47) {
            return _0x3526ec * _0x436d47;
        }, _0x1c693f[_0x41b42d(0xee)] = function (_0x1dc0f8, _0x2b38d3) {
            return _0x1dc0f8 - _0x2b38d3;
        }, _0x1c693f[_0x41b42d(0xec)] = _0x41b42d(0xed), _0x1c693f[_0x41b42d(0xe5)] = _0x41b42d(0xcc), _0x1c693f[_0x41b42d(0xcd)] = _0x41b42d(0xd4), _0x1c693f[_0x41b42d(0xda)] = _0x41b42d(0xe6), _0x1c693f[_0x41b42d(0xd3)] = _0x41b42d(0xcb), _0x1c693f[_0x41b42d(0xe7)] = _0x41b42d(0xd4) + _0x41b42d(0xdd), _0x1c693f[_0x41b42d(0xf5)] = _0x41b42d(0xe4) + 'nt', _0x1c693f[_0x41b42d(0xd6)] = _0x41b42d(0xf0), _0x1c693f[_0x41b42d(0xf4)] = function (_0x3dc6f7, _0xf000ba) {
            return _0x3dc6f7 > _0xf000ba;
        }, _0x1c693f[_0x41b42d(0xf7)] = function (_0x463086, _0x23fa81) {
            return _0x463086 + _0x23fa81;
        };
        const _0x3c5f8c = _0x1c693f;
        let _0x55b86f = {};
        const _0x290347 = -0x5ff * 0x1 + -0x1ea7 * 0x1 + -0x125d * -0x2, _0x420c97 = _0x3c5f8c[_0x41b42d(0xe1)](_0x290347, _0x3c5f8c[_0x41b42d(0xee)](+pageNumber, -0x2 * -0xa5e + -0x11 * 0x60 + -0xe5b));
        if (_0x2df265) {
            const _0x4ded4f = {
                [sequelize_1['Op']['or']]: [
                    { 'name': { [sequelize_1['Op'][_0x41b42d(0xeb)]]: '%' + _0x2df265 + '%' } },
                    { 'color': { [sequelize_1['Op'][_0x41b42d(0xeb)]]: '%' + _0x2df265 + '%' } }
                ]
            };
            _0x55b86f = _0x4ded4f;
        }
        const _0x52ea1b = { ..._0x55b86f };
        _0x52ea1b[_0x41b42d(0xf3)] = _0x4ac067;
        const {
                count: _0x34db16,
                rows: _0x5c193d
            } = await Tag_1[_0x41b42d(0xf2)][_0x41b42d(0xdc) + _0x41b42d(0xd2)]({
                'where': _0x52ea1b,
                'limit': _0x290347,
                'offset': _0x420c97,
                'order': [[
                        _0x3c5f8c[_0x41b42d(0xec)],
                        _0x3c5f8c[_0x41b42d(0xe5)]
                    ]],
                'subQuery': ![],
                'include': [{
                        'model': TicketTag_1[_0x41b42d(0xf2)],
                        'as': _0x3c5f8c[_0x41b42d(0xcd)],
                        'attributes': [],
                        'required': ![]
                    }],
                'attributes': [
                    'id',
                    _0x3c5f8c[_0x41b42d(0xec)],
                    _0x3c5f8c[_0x41b42d(0xda)],
                    [
                        (-0x1 * 0x17e + 0x167d + -0x5 * 0x433, sequelize_1['fn'])(_0x3c5f8c[_0x41b42d(0xd3)], (-0x1552 * -0x1 + -0x9d5 + -0x11 * 0xad, sequelize_1[_0x41b42d(0xef)])(_0x3c5f8c[_0x41b42d(0xe7)])),
                        _0x3c5f8c[_0x41b42d(0xf5)]
                    ]
                ],
                'group': [_0x3c5f8c[_0x41b42d(0xd6)]]
            }), _0x45ed0f = _0x3c5f8c[_0x41b42d(0xf4)](_0x34db16, _0x3c5f8c[_0x41b42d(0xf7)](_0x420c97, _0x5c193d[_0x41b42d(0xcf)])), _0x5bf3fd = {};
        return _0x5bf3fd[_0x41b42d(0xe3)] = _0x5c193d, _0x5bf3fd[_0x41b42d(0xcb)] = _0x34db16, _0x5bf3fd[_0x41b42d(0xd9)] = _0x45ed0f, _0x5bf3fd;
    };
exports[_0xd5ba19(0xf2)] = ListService;