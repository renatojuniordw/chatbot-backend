'use strict';
const _0x5c8b44 = _0x381f;
function _0x3117() {
    const _0x3cad00 = [
        'object',
        'vswva',
        'get',
        'ls/Plan',
        '4590aUposz',
        'min',
        'create',
        'model',
        'getOwnProp',
        'Check-toke',
        'ptor',
        'prototype',
        'expiresTic',
        'is\x20already',
        'value',
        '__importDe',
        'split',
        '15993YDbPoo',
        '1|0|2|4|3',
        'MTbii',
        'tyMxZ',
        'maxUseBotQ',
        'oPUxt',
        'findOne',
        'Whatsapp',
        'tra\x20conexã',
        'call',
        '__importSt',
        'zoQhy',
        'oDtEd',
        'Message',
        'This\x20whats',
        'yup',
        './Associat',
        'beta',
        '2093072kZnsHd',
        '\x20used.',
        'Check-name',
        'name',
        'app\x20token\x20',
        'ueue',
        'hflWM',
        'ls/Whatsap',
        'gQrWd',
        'rs/AppErro',
        'message',
        'uAJen',
        'ado\x20por\x20ou',
        'OPENING',
        'hasOwnProp',
        '../../erro',
        'required',
        'xGveC',
        'Queues',
        'btFbY',
        'boolean',
        'mRTkw',
        'dJHtA',
        '4AJUVUs',
        'ls/Company',
        'ertyDescri',
        'Esse\x20nome\x20',
        'configurab',
        'include',
        'ROsHK',
        'IhLWM',
        'where',
        'SdVai',
        'plan',
        'já\x20está\x20se',
        'companyId',
        'exões\x20já\x20a',
        'token',
        'provider',
        'zwaQk',
        'nmxKB',
        'promptId',
        'sendIdQueu',
        'defineProp',
        'queues',
        'status',
        'lcançado:\x20',
        'connection',
        'age',
        'REETING_RE',
        'Número\x20máx',
        '../../mode',
        'ket',
        'ratingMess',
        'count',
        'writable',
        '1168725xWVWbN',
        '2DSjxRO',
        '633086yQDxdk',
        'ndo\x20utiliz',
        'imo\x20de\x20con',
        'length',
        'timeSendQu',
        'outOfHours',
        'validate',
        'enumerable',
        'update',
        'timeUseBot',
        '2411080FpotWk',
        '2095674iZFRoO',
        'ueues',
        'shape',
        '3696396FQOgEB',
        'LVpGg',
        'default',
        'xaUQp',
        '__createBi',
        'expiresIna',
        'ERR_WAPP_G',
        'VDXnp',
        'eDefault',
        'eue',
        'ssage',
        'whatsapp',
        'isDefault',
        'fault',
        'dSaII',
        'oldDefault',
        'string',
        'erty',
        'test',
        'complation',
        'eWhatsappQ',
        'greetingMe',
        'QUIRED',
        'nding',
        '__setModul',
        'ctiveMessa',
        '__esModule'
    ];
    _0x3117 = function () {
        return _0x3cad00;
    };
    return _0x3117();
}
(function (_0x2b57bd, _0x41faa3) {
    const _0x255437 = _0x381f, _0x1a76d1 = _0x2b57bd();
    while (!![]) {
        try {
            const _0x43362a = -parseInt(_0x255437(0x1bc)) / (-0x1182 + 0xd9a * -0x2 + -0x1 * -0x2cb7) + -parseInt(_0x255437(0x1bb)) / (0x1 * -0x4f + 0x3f1 * 0x3 + -0xb82) * (parseInt(_0x255437(0x1c7)) / (0x1be * 0xd + 0x1 * -0xe9b + -0x4 * 0x202)) + -parseInt(_0x255437(0x199)) / (-0x4 * -0x1f3 + 0x2575 + -0x2d3d) * (parseInt(_0x255437(0x1ba)) / (-0x1ea + 0x10f * -0x2 + 0x40d)) + parseInt(_0x255437(0x144)) / (-0x2 * -0xdfd + 0x60 * -0x47 + -0x154) + parseInt(_0x255437(0x1c6)) / (0x5d * 0x5a + -0x1978 + 0x61 * -0x13) + parseInt(_0x255437(0x182)) / (0xf1a * 0x2 + -0xb6a + 0xe * -0x157) + parseInt(_0x255437(0x170)) / (0x8 * -0x71 + 0x17f * 0x16 + -0x1d59) * (parseInt(_0x255437(0x163)) / (0x4e7 + -0xbfc * 0x2 + -0x1 * -0x131b));
            if (_0x43362a === _0x41faa3)
                break;
            else
                _0x1a76d1['push'](_0x1a76d1['shift']());
        } catch (_0x44df82) {
            _0x1a76d1['push'](_0x1a76d1['shift']());
        }
    }
}(_0x3117, 0x279 * 0x224 + 0x55a29 * 0x1 + -0x36fe3));
function _0x381f(_0x5b0949, _0x46a3e0) {
    const _0x39c377 = _0x3117();
    return _0x381f = function (_0xb63e28, _0x46f429) {
        _0xb63e28 = _0xb63e28 - (0x4 * -0x87b + 0x2 * -0xcf2 + 0x3d12);
        let _0xca55e9 = _0x39c377[_0xb63e28];
        return _0xca55e9;
    }, _0x381f(_0x5b0949, _0x46a3e0);
}
var __createBinding = this && this[_0x5c8b44(0x148) + _0x5c8b44(0x15b)] || (Object[_0x5c8b44(0x165)] ? function (_0x1bb58c, _0x286146, _0x1fbf2f, _0x238cbf) {
        const _0x34f8da = _0x5c8b44, _0xfce7f7 = {};
        _0xfce7f7[_0x34f8da(0x197)] = function (_0x189ac4, _0x3355c3) {
            return _0x189ac4 === _0x3355c3;
        }, _0xfce7f7[_0x34f8da(0x1a9)] = function (_0x33baee, _0x43ee58) {
            return _0x33baee in _0x43ee58;
        }, _0xfce7f7[_0x34f8da(0x160)] = _0x34f8da(0x161);
        const _0x53f9d8 = _0xfce7f7;
        if (_0x53f9d8[_0x34f8da(0x197)](_0x238cbf, undefined))
            _0x238cbf = _0x1fbf2f;
        var _0x18d399 = Object[_0x34f8da(0x167) + _0x34f8da(0x19b) + _0x34f8da(0x169)](_0x286146, _0x1fbf2f);
        if (!_0x18d399 || (_0x53f9d8[_0x34f8da(0x1a9)](_0x53f9d8[_0x34f8da(0x160)], _0x18d399) ? !_0x286146[_0x34f8da(0x15e)] : _0x18d399[_0x34f8da(0x1b9)] || _0x18d399[_0x34f8da(0x19d) + 'le'])) {
            const _0x275574 = {};
            _0x275574[_0x34f8da(0x1c3)] = !![], _0x275574[_0x34f8da(0x161)] = function () {
                return _0x286146[_0x1fbf2f];
            }, _0x18d399 = _0x275574;
        }
        Object[_0x34f8da(0x1ad) + _0x34f8da(0x155)](_0x1bb58c, _0x238cbf, _0x18d399);
    } : function (_0x4eeaf1, _0x295383, _0x31fa1, _0xeda5a9) {
        const _0x31718f = _0x5c8b44, _0x3aae48 = {};
        _0x3aae48[_0x31718f(0x193)] = function (_0x6187b0, _0x35ae49) {
            return _0x6187b0 === _0x35ae49;
        };
        const _0x19f98f = _0x3aae48;
        if (_0x19f98f[_0x31718f(0x193)](_0xeda5a9, undefined))
            _0xeda5a9 = _0x31fa1;
        _0x4eeaf1[_0xeda5a9] = _0x295383[_0x31fa1];
    }), __setModuleDefault = this && this[_0x5c8b44(0x15c) + _0x5c8b44(0x14c)] || (Object[_0x5c8b44(0x165)] ? function (_0xe138de, _0x334331) {
        const _0x3b2391 = _0x5c8b44, _0x2a9a5a = {};
        _0x2a9a5a[_0x3b2391(0x1aa)] = _0x3b2391(0x146);
        const _0x215193 = _0x2a9a5a, _0x3101d0 = {};
        _0x3101d0[_0x3b2391(0x1c3)] = !![], _0x3101d0[_0x3b2391(0x16d)] = _0x334331, Object[_0x3b2391(0x1ad) + _0x3b2391(0x155)](_0xe138de, _0x215193[_0x3b2391(0x1aa)], _0x3101d0);
    } : function (_0x536f77, _0x1114cc) {
        const _0x2e3908 = _0x5c8b44, _0x8e6950 = {};
        _0x8e6950[_0x2e3908(0x175)] = _0x2e3908(0x146);
        const _0x51f0ac = _0x8e6950;
        _0x536f77[_0x51f0ac[_0x2e3908(0x175)]] = _0x1114cc;
    }), __importStar = this && this[_0x5c8b44(0x17a) + 'ar'] || function (_0x42162c) {
        const _0x255a4f = _0x5c8b44, _0x4f2ede = {
                'gQrWd': _0x255a4f(0x171),
                'btFbY': function (_0x2205b5, _0x27d3b7) {
                    return _0x2205b5 != _0x27d3b7;
                },
                'oDtEd': function (_0x47f0d0, _0x3669d1) {
                    return _0x47f0d0 !== _0x3669d1;
                },
                'SdVai': _0x255a4f(0x146),
                'LVpGg': function (_0x1b4000, _0x795286, _0x30badf, _0x2433fb) {
                    return _0x1b4000(_0x795286, _0x30badf, _0x2433fb);
                },
                'dSaII': function (_0x265869, _0x4ae0f8, _0x7c77b8) {
                    return _0x265869(_0x4ae0f8, _0x7c77b8);
                }
            }, _0x3bee11 = _0x4f2ede[_0x255a4f(0x18a)][_0x255a4f(0x16f)]('|');
        let _0x112e82 = -0x1f * 0x11f + 0x2136 + 0x18b * 0x1;
        while (!![]) {
            switch (_0x3bee11[_0x112e82++]) {
            case '0':
                var _0x52031e = {};
                continue;
            case '1':
                if (_0x42162c && _0x42162c[_0x255a4f(0x15e)])
                    return _0x42162c;
                continue;
            case '2':
                if (_0x4f2ede[_0x255a4f(0x195)](_0x42162c, null)) {
                    for (var _0x578a27 in _0x42162c)
                        if (_0x4f2ede[_0x255a4f(0x17c)](_0x578a27, _0x4f2ede[_0x255a4f(0x1a2)]) && Object[_0x255a4f(0x16a)][_0x255a4f(0x190) + _0x255a4f(0x155)][_0x255a4f(0x179)](_0x42162c, _0x578a27))
                            _0x4f2ede[_0x255a4f(0x145)](__createBinding, _0x52031e, _0x42162c, _0x578a27);
                }
                continue;
            case '3':
                return _0x52031e;
            case '4':
                _0x4f2ede[_0x255a4f(0x152)](__setModuleDefault, _0x52031e, _0x42162c);
                continue;
            }
            break;
        }
    }, __importDefault = this && this[_0x5c8b44(0x16e) + _0x5c8b44(0x151)] || function (_0x50ffa6) {
        const _0x31b761 = _0x5c8b44;
        return _0x50ffa6 && _0x50ffa6[_0x31b761(0x15e)] ? _0x50ffa6 : { 'default': _0x50ffa6 };
    };
const _0x1e1aeb = {};
_0x1e1aeb[_0x5c8b44(0x16d)] = !![], Object[_0x5c8b44(0x1ad) + _0x5c8b44(0x155)](exports, _0x5c8b44(0x15e), _0x1e1aeb);
const Yup = __importStar(require(_0x5c8b44(0x17f))), AppError_1 = __importDefault(require(_0x5c8b44(0x191) + _0x5c8b44(0x18b) + 'r')), Whatsapp_1 = __importDefault(require(_0x5c8b44(0x1b5) + _0x5c8b44(0x189) + 'p')), Company_1 = __importDefault(require(_0x5c8b44(0x1b5) + _0x5c8b44(0x19a))), Plan_1 = __importDefault(require(_0x5c8b44(0x1b5) + _0x5c8b44(0x162))), AssociateWhatsappQueue_1 = __importDefault(require(_0x5c8b44(0x180) + _0x5c8b44(0x158) + _0x5c8b44(0x187))), CreateWhatsAppService = async ({
        name: _0x5611ab,
        status: status = _0x5c8b44(0x18f),
        queueIds: queueIds = [],
        greetingMessage: _0x56a7d0,
        complationMessage: _0x1150e3,
        outOfHoursMessage: _0x38092f,
        ratingMessage: _0x529fc3,
        isDefault: isDefault = ![],
        companyId: _0x104d61,
        token: token = '',
        provider: provider = _0x5c8b44(0x181),
        timeSendQueue: _0x345e9,
        sendIdQueue: _0x3b621f,
        promptId: _0x453651,
        maxUseBotQueues: maxUseBotQueues = -0xba7 + 0x242c + -0x1882,
        timeUseBotQueues: timeUseBotQueues = 0x93 * -0xf + 0x19 * -0x3b + 0xe60,
        expiresTicket: expiresTicket = -0x8d2 + 0x1d7f + -0x14ad,
        expiresInactiveMessage: expiresInactiveMessage = ''
    }) => {
        const _0x35477d = _0x5c8b44, _0x3a518f = {};
        _0x3a518f[_0x35477d(0x17b)] = _0x35477d(0x1a3), _0x3a518f[_0x35477d(0x188)] = function (_0x1f1e27, _0x2ff9a4) {
            return _0x1f1e27 !== _0x2ff9a4;
        }, _0x3a518f[_0x35477d(0x147)] = function (_0x17a8cc, _0x7d940e) {
            return _0x17a8cc >= _0x7d940e;
        }, _0x3a518f[_0x35477d(0x173)] = _0x35477d(0x184), _0x3a518f[_0x35477d(0x198)] = _0x35477d(0x19c) + _0x35477d(0x1a4) + _0x35477d(0x1bd) + _0x35477d(0x18e) + _0x35477d(0x178) + 'o', _0x3a518f[_0x35477d(0x1a0)] = function (_0x5266c3, _0x2fb70a) {
            return _0x5266c3 > _0x2fb70a;
        }, _0x3a518f[_0x35477d(0x18d)] = _0x35477d(0x14a) + _0x35477d(0x1b3) + _0x35477d(0x15a), _0x3a518f[_0x35477d(0x14b)] = _0x35477d(0x168) + 'n', _0x3a518f[_0x35477d(0x19f)] = _0x35477d(0x17e) + _0x35477d(0x186) + _0x35477d(0x16c) + _0x35477d(0x183), _0x3a518f[_0x35477d(0x172)] = _0x35477d(0x1ae);
        const _0x3fcb66 = _0x3a518f, _0x3f6e19 = {};
        _0x3f6e19['id'] = _0x104d61;
        const _0x288162 = {};
        _0x288162[_0x35477d(0x166)] = Plan_1[_0x35477d(0x146)], _0x288162['as'] = _0x3fcb66[_0x35477d(0x17b)];
        const _0x4a7b41 = {};
        _0x4a7b41[_0x35477d(0x1a1)] = _0x3f6e19, _0x4a7b41[_0x35477d(0x19e)] = [_0x288162];
        const _0x3eb789 = await Company_1[_0x35477d(0x146)][_0x35477d(0x176)](_0x4a7b41);
        if (_0x3fcb66[_0x35477d(0x188)](_0x3eb789, null)) {
            const _0x4d8f0b = {};
            _0x4d8f0b[_0x35477d(0x1a5)] = _0x104d61;
            const _0x1583b7 = {};
            _0x1583b7[_0x35477d(0x1a1)] = _0x4d8f0b;
            const _0x181eb5 = await Whatsapp_1[_0x35477d(0x146)][_0x35477d(0x1b8)](_0x1583b7);
            if (_0x3fcb66[_0x35477d(0x147)](_0x181eb5, _0x3eb789[_0x35477d(0x1a3)][_0x35477d(0x1b1) + 's']))
                throw new AppError_1[(_0x35477d(0x146))](_0x35477d(0x1b4) + _0x35477d(0x1be) + _0x35477d(0x1a6) + _0x35477d(0x1b0) + _0x181eb5);
        }
        const _0x33a535 = Yup[_0x35477d(0x15f)]()[_0x35477d(0x143)]({
            'name': Yup[_0x35477d(0x154)]()[_0x35477d(0x192)]()[_0x35477d(0x164)](-0xeea + -0x1 * 0x1913 + 0x1 * 0x27ff)[_0x35477d(0x156)](_0x3fcb66[_0x35477d(0x173)], _0x3fcb66[_0x35477d(0x198)], async _0x1d7754 => {
                const _0x55f706 = _0x35477d;
                if (!_0x1d7754)
                    return ![];
                const _0x21c9cb = {};
                _0x21c9cb[_0x55f706(0x185)] = _0x1d7754;
                const _0x303ea1 = {};
                _0x303ea1[_0x55f706(0x1a1)] = _0x21c9cb;
                const _0x11e7c1 = await Whatsapp_1[_0x55f706(0x146)][_0x55f706(0x176)](_0x303ea1);
                return !_0x11e7c1;
            }),
            'isDefault': Yup[_0x35477d(0x196)]()[_0x35477d(0x192)]()
        });
        try {
            const _0x581c26 = {};
            _0x581c26[_0x35477d(0x185)] = _0x5611ab, _0x581c26[_0x35477d(0x1af)] = status, _0x581c26[_0x35477d(0x150)] = isDefault, await _0x33a535[_0x35477d(0x1c2)](_0x581c26);
        } catch (_0x306fbf) {
            throw new AppError_1[(_0x35477d(0x146))](_0x306fbf[_0x35477d(0x18c)]);
        }
        const _0x4d0686 = {};
        _0x4d0686[_0x35477d(0x1a5)] = _0x104d61;
        const _0xb49150 = {};
        _0xb49150[_0x35477d(0x1a1)] = _0x4d0686;
        const _0x4b52d3 = await Whatsapp_1[_0x35477d(0x146)][_0x35477d(0x176)](_0xb49150);
        isDefault = !_0x4b52d3;
        let _0x32d6a2 = null;
        if (isDefault) {
            const _0x2a29f1 = {};
            _0x2a29f1[_0x35477d(0x150)] = !![], _0x2a29f1[_0x35477d(0x1a5)] = _0x104d61;
            const _0x426157 = {};
            _0x426157[_0x35477d(0x1a1)] = _0x2a29f1, _0x32d6a2 = await Whatsapp_1[_0x35477d(0x146)][_0x35477d(0x176)](_0x426157);
            if (_0x32d6a2) {
                const _0x3b3684 = {};
                _0x3b3684[_0x35477d(0x150)] = ![], _0x3b3684[_0x35477d(0x1a5)] = _0x104d61, await _0x32d6a2[_0x35477d(0x1c4)](_0x3b3684);
            }
        }
        if (_0x3fcb66[_0x35477d(0x1a0)](queueIds[_0x35477d(0x1bf)], -0x15 * -0x139 + -0x5 * -0xfb + 0x1e93 * -0x1) && !_0x56a7d0)
            throw new AppError_1[(_0x35477d(0x146))](_0x3fcb66[_0x35477d(0x18d)]);
        if (_0x3fcb66[_0x35477d(0x188)](token, null) && _0x3fcb66[_0x35477d(0x188)](token, '')) {
            const _0x93593b = Yup[_0x35477d(0x15f)]()[_0x35477d(0x143)]({
                'token': Yup[_0x35477d(0x154)]()[_0x35477d(0x192)]()[_0x35477d(0x164)](-0x17ba + 0x12f3 + -0x4c9 * -0x1)[_0x35477d(0x156)](_0x3fcb66[_0x35477d(0x14b)], _0x3fcb66[_0x35477d(0x19f)], async _0x598a35 => {
                    const _0xb2346a = _0x35477d;
                    if (!_0x598a35)
                        return ![];
                    const _0x371d60 = {};
                    _0x371d60[_0xb2346a(0x1a7)] = _0x598a35;
                    const _0x15c828 = {};
                    _0x15c828[_0xb2346a(0x1a1)] = _0x371d60;
                    const _0x36719a = await Whatsapp_1[_0xb2346a(0x146)][_0xb2346a(0x176)](_0x15c828);
                    return !_0x36719a;
                })
            });
            try {
                const _0x42b12e = {};
                _0x42b12e[_0x35477d(0x1a7)] = token, await _0x93593b[_0x35477d(0x1c2)](_0x42b12e);
            } catch (_0x2ca5d3) {
                throw new AppError_1[(_0x35477d(0x146))](_0x2ca5d3[_0x35477d(0x18c)]);
            }
        }
        const _0x3bc44d = {};
        _0x3bc44d[_0x35477d(0x185)] = _0x5611ab, _0x3bc44d[_0x35477d(0x1af)] = status, _0x3bc44d[_0x35477d(0x159) + _0x35477d(0x14e)] = _0x56a7d0, _0x3bc44d[_0x35477d(0x157) + _0x35477d(0x17d)] = _0x1150e3, _0x3bc44d[_0x35477d(0x1c1) + _0x35477d(0x17d)] = _0x38092f, _0x3bc44d[_0x35477d(0x1b7) + _0x35477d(0x1b2)] = _0x529fc3, _0x3bc44d[_0x35477d(0x150)] = isDefault, _0x3bc44d[_0x35477d(0x1a5)] = _0x104d61, _0x3bc44d[_0x35477d(0x1a7)] = token, _0x3bc44d[_0x35477d(0x1a8)] = provider, _0x3bc44d[_0x35477d(0x1c0) + _0x35477d(0x14d)] = _0x345e9, _0x3bc44d[_0x35477d(0x1ac) + 'e'] = _0x3b621f, _0x3bc44d[_0x35477d(0x1ab)] = _0x453651, _0x3bc44d[_0x35477d(0x174) + _0x35477d(0x142)] = maxUseBotQueues, _0x3bc44d[_0x35477d(0x1c5) + _0x35477d(0x194)] = timeUseBotQueues, _0x3bc44d[_0x35477d(0x16b) + _0x35477d(0x1b6)] = expiresTicket, _0x3bc44d[_0x35477d(0x149) + _0x35477d(0x15d) + 'ge'] = expiresInactiveMessage;
        const _0x58b4f8 = {};
        _0x58b4f8[_0x35477d(0x19e)] = [_0x3fcb66[_0x35477d(0x172)]];
        const _0x3a8627 = await Whatsapp_1[_0x35477d(0x146)][_0x35477d(0x165)](_0x3bc44d, _0x58b4f8);
        await (0x24d1 + -0x902 * 0x2 + 0x12cd * -0x1, AssociateWhatsappQueue_1[_0x35477d(0x146)])(_0x3a8627, queueIds);
        const _0xcb39ac = {};
        return _0xcb39ac[_0x35477d(0x14f)] = _0x3a8627, _0xcb39ac[_0x35477d(0x153) + _0x35477d(0x177)] = _0x32d6a2, _0xcb39ac;
    };
exports[_0x5c8b44(0x146)] = CreateWhatsAppService;