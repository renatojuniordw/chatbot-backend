'use strict';
const _0xac1791 = _0x78f2;
(function (_0x31835f, _0x2e6024) {
    const _0x412b7c = _0x78f2, _0x17ea53 = _0x31835f();
    while (!![]) {
        try {
            const _0x40198e = parseInt(_0x412b7c(0x13e)) / (0x2337 + -0x26d2 + 0x3 * 0x134) + -parseInt(_0x412b7c(0x10e)) / (0x331 * -0x7 + 0x20fa + 0x1 * -0xaa1) * (-parseInt(_0x412b7c(0x135)) / (-0xca0 + 0x1073 + -0x3d0)) + -parseInt(_0x412b7c(0xf8)) / (-0x3d * 0x7f + -0x29 * 0x39 + 0xc2 * 0x34) * (parseInt(_0x412b7c(0x12d)) / (-0x413 + -0x16b1 + -0x1 * -0x1ac9)) + parseInt(_0x412b7c(0x14b)) / (-0x1db7 + 0x4 * 0x40c + 0xd8d) + -parseInt(_0x412b7c(0x106)) / (-0x15f5 + -0x1d3f * 0x1 + 0x1 * 0x333b) + parseInt(_0x412b7c(0x155)) / (-0x37 * -0xa9 + -0x1ebb + 0x163 * -0x4) + parseInt(_0x412b7c(0x120)) / (-0x15 + 0x23 * 0x41 + -0x5 * 0x1c1);
            if (_0x40198e === _0x2e6024)
                break;
            else
                _0x17ea53['push'](_0x17ea53['shift']());
        } catch (_0x57aa28) {
            _0x17ea53['push'](_0x17ea53['shift']());
        }
    }
}(_0x34b1, -0x4d984 + -0x26d45 + 0x1 * 0xdd6cc));
function _0x78f2(_0x457359, _0xa3bf70) {
    const _0x456766 = _0x34b1();
    return _0x78f2 = function (_0x4ebba6, _0x213fcc) {
        _0x4ebba6 = _0x4ebba6 - (-0xc9 * 0x2 + 0x59 * 0x16 + -0x2f * 0x1c);
        let _0x2d1b22 = _0x456766[_0x4ebba6];
        return _0x2d1b22;
    }, _0x78f2(_0x457359, _0xa3bf70);
}
var __createBinding = this && this[_0xac1791(0x10b) + _0xac1791(0x101)] || (Object[_0xac1791(0x116)] ? function (_0x567f5c, _0x22baf0, _0x31e7ca, _0x34cfb8) {
        const _0x5b097f = _0xac1791, _0x4ebfa0 = {};
        _0x4ebfa0[_0x5b097f(0x141)] = function (_0x501a9c, _0x547ea3) {
            return _0x501a9c === _0x547ea3;
        }, _0x4ebfa0[_0x5b097f(0x13b)] = function (_0x148b1f, _0x5852d5) {
            return _0x148b1f in _0x5852d5;
        }, _0x4ebfa0[_0x5b097f(0x115)] = _0x5b097f(0x126);
        const _0x53aa38 = _0x4ebfa0;
        if (_0x53aa38[_0x5b097f(0x141)](_0x34cfb8, undefined))
            _0x34cfb8 = _0x31e7ca;
        var _0x4097cc = Object[_0x5b097f(0x14e) + _0x5b097f(0x127) + _0x5b097f(0xff)](_0x22baf0, _0x31e7ca);
        if (!_0x4097cc || (_0x53aa38[_0x5b097f(0x13b)](_0x53aa38[_0x5b097f(0x115)], _0x4097cc) ? !_0x22baf0[_0x5b097f(0x11c)] : _0x4097cc[_0x5b097f(0x13f)] || _0x4097cc[_0x5b097f(0x140) + 'le'])) {
            const _0x198436 = {};
            _0x198436[_0x5b097f(0x150)] = !![], _0x198436[_0x5b097f(0x126)] = function () {
                return _0x22baf0[_0x31e7ca];
            }, _0x4097cc = _0x198436;
        }
        Object[_0x5b097f(0x124) + _0x5b097f(0x122)](_0x567f5c, _0x34cfb8, _0x4097cc);
    } : function (_0xd77e4c, _0x540c27, _0x3dbf4e, _0x1ddadc) {
        const _0x1e0036 = _0xac1791, _0x3dfc55 = {};
        _0x3dfc55[_0x1e0036(0x10a)] = function (_0x4b4f86, _0x1a66c0) {
            return _0x4b4f86 === _0x1a66c0;
        };
        const _0x89c8e6 = _0x3dfc55;
        if (_0x89c8e6[_0x1e0036(0x10a)](_0x1ddadc, undefined))
            _0x1ddadc = _0x3dbf4e;
        _0xd77e4c[_0x1ddadc] = _0x540c27[_0x3dbf4e];
    }), __setModuleDefault = this && this[_0xac1791(0x123) + _0xac1791(0x149)] || (Object[_0xac1791(0x116)] ? function (_0x928088, _0x3e0534) {
        const _0x952f70 = _0xac1791, _0x4833cf = {};
        _0x4833cf[_0x952f70(0x112)] = _0x952f70(0x146);
        const _0x47313b = _0x4833cf, _0x5af2f4 = {};
        _0x5af2f4[_0x952f70(0x150)] = !![], _0x5af2f4[_0x952f70(0x117)] = _0x3e0534, Object[_0x952f70(0x124) + _0x952f70(0x122)](_0x928088, _0x47313b[_0x952f70(0x112)], _0x5af2f4);
    } : function (_0x4a20fd, _0x5930f1) {
        const _0x8429ea = _0xac1791, _0x56cbbb = {};
        _0x56cbbb[_0x8429ea(0xfd)] = _0x8429ea(0x146);
        const _0x2f77bb = _0x56cbbb;
        _0x4a20fd[_0x2f77bb[_0x8429ea(0xfd)]] = _0x5930f1;
    }), __importStar = this && this[_0xac1791(0x12e) + 'ar'] || function (_0x30eb54) {
        const _0x26ae5a = _0xac1791, _0x5ba613 = {
                'uLcoL': _0x26ae5a(0xf2),
                'uynYL': function (_0x6fe9ca, _0x50936e) {
                    return _0x6fe9ca != _0x50936e;
                },
                'glYPA': function (_0x1ec1bf, _0x10ba0d) {
                    return _0x1ec1bf !== _0x10ba0d;
                },
                'zVZLE': _0x26ae5a(0x146),
                'bleci': function (_0xd6cde8, _0x4743b4, _0x3efe3a, _0x9838b8) {
                    return _0xd6cde8(_0x4743b4, _0x3efe3a, _0x9838b8);
                },
                'bsgrP': function (_0x1f3a4a, _0x18e906, _0x878c50) {
                    return _0x1f3a4a(_0x18e906, _0x878c50);
                }
            }, _0x5705a2 = _0x5ba613[_0x26ae5a(0x14f)][_0x26ae5a(0x134)]('|');
        let _0x16d069 = -0xaac + -0xcd * -0x11 + 0x3 * -0xfb;
        while (!![]) {
            switch (_0x5705a2[_0x16d069++]) {
            case '0':
                return _0x32bfaa;
            case '1':
                if (_0x5ba613[_0x26ae5a(0x125)](_0x30eb54, null)) {
                    for (var _0x47faf7 in _0x30eb54)
                        if (_0x5ba613[_0x26ae5a(0x105)](_0x47faf7, _0x5ba613[_0x26ae5a(0xfa)]) && Object[_0x26ae5a(0x129)][_0x26ae5a(0x138) + _0x26ae5a(0x122)][_0x26ae5a(0x11a)](_0x30eb54, _0x47faf7))
                            _0x5ba613[_0x26ae5a(0x131)](__createBinding, _0x32bfaa, _0x30eb54, _0x47faf7);
                }
                continue;
            case '2':
                var _0x32bfaa = {};
                continue;
            case '3':
                _0x5ba613[_0x26ae5a(0xf1)](__setModuleDefault, _0x32bfaa, _0x30eb54);
                continue;
            case '4':
                if (_0x30eb54 && _0x30eb54[_0x26ae5a(0x11c)])
                    return _0x30eb54;
                continue;
            }
            break;
        }
    }, __importDefault = this && this[_0xac1791(0x13c) + _0xac1791(0xf5)] || function (_0x12275c) {
        const _0x4e808c = _0xac1791;
        return _0x12275c && _0x12275c[_0x4e808c(0x11c)] ? _0x12275c : { 'default': _0x12275c };
    };
const _0x12b3fe = {};
_0x12b3fe[_0xac1791(0x117)] = !![], Object[_0xac1791(0x124) + _0xac1791(0x122)](exports, _0xac1791(0x11c), _0x12b3fe);
const Yup = __importStar(require(_0xac1791(0x121))), sequelize_1 = require(_0xac1791(0xf9)), AppError_1 = __importDefault(require(_0xac1791(0x133) + _0xac1791(0x151) + 'r')), Whatsapp_1 = __importDefault(require(_0xac1791(0x103) + _0xac1791(0x107) + 'p')), ShowWhatsAppService_1 = __importDefault(require(_0xac1791(0x14c) + _0xac1791(0x13a) + 'e')), AssociateWhatsappQueue_1 = __importDefault(require(_0xac1791(0x111) + _0xac1791(0x11d) + _0xac1791(0x10d))), UpdateWhatsAppService = async ({
        whatsappData: _0x37f7a2,
        whatsappId: _0x1dbcbe,
        companyId: _0x16d8b1
    }) => {
        const _0x463c13 = _0xac1791, _0x3dfedb = {};
        _0x3dfedb[_0x463c13(0x139)] = function (_0x2191e9, _0x1a1228) {
            return _0x2191e9 > _0x1a1228;
        }, _0x3dfedb[_0x463c13(0x119)] = _0x463c13(0x113) + _0x463c13(0x108) + _0x463c13(0xf3);
        const _0x29cb97 = _0x3dfedb, _0x47b280 = Yup[_0x463c13(0x136)]()[_0x463c13(0x154)]({
                'name': Yup[_0x463c13(0x100)]()[_0x463c13(0xfb)](-0x2046 + 0x1 * -0x24df + 0x4527),
                'status': Yup[_0x463c13(0x100)](),
                'isDefault': Yup[_0x463c13(0x128)]()
            }), {
                name: _0x255029,
                status: _0x39f59d,
                isDefault: _0x574dd0,
                session: _0x4b7901,
                greetingMessage: _0x3c6f6b,
                complationMessage: _0x430b79,
                outOfHoursMessage: _0xf62cd8,
                ratingMessage: _0x57e036,
                queueIds: queueIds = [],
                token: _0x4d303d,
                timeSendQueue: _0x50f019,
                sendIdQueue: sendIdQueue = null,
                promptId: _0x3ee3a0,
                maxUseBotQueues: _0x3f2717,
                timeUseBotQueues: _0x193d14,
                expiresTicket: _0x7c4c16,
                expiresInactiveMessage: _0x455a95
            } = _0x37f7a2;
        try {
            const _0x493b43 = {};
            _0x493b43[_0x463c13(0xfc)] = _0x255029, _0x493b43[_0x463c13(0x13d)] = _0x39f59d, _0x493b43[_0x463c13(0x153)] = _0x574dd0, await _0x47b280[_0x463c13(0x12a)](_0x493b43);
        } catch (_0x2872a7) {
            throw new AppError_1[(_0x463c13(0x146))](_0x2872a7[_0x463c13(0x110)]);
        }
        if (_0x29cb97[_0x463c13(0x139)](queueIds[_0x463c13(0x114)], -0x1b3f + 0x13b3 + 0x78d) && !_0x3c6f6b)
            throw new AppError_1[(_0x463c13(0x146))](_0x29cb97[_0x463c13(0x119)]);
        let _0x289d72 = null;
        if (_0x574dd0) {
            const _0x591847 = { [sequelize_1['Op'][_0x463c13(0x137)]]: _0x1dbcbe }, _0x44d796 = {};
            _0x44d796[_0x463c13(0x153)] = !![], _0x44d796['id'] = _0x591847, _0x44d796[_0x463c13(0x12c)] = _0x16d8b1;
            const _0x4af6a1 = {};
            _0x4af6a1[_0x463c13(0xfe)] = _0x44d796, _0x289d72 = await Whatsapp_1[_0x463c13(0x146)][_0x463c13(0x118)](_0x4af6a1);
            if (_0x289d72) {
                const _0x5981e8 = {};
                _0x5981e8[_0x463c13(0x153)] = ![], await _0x289d72[_0x463c13(0xf7)](_0x5981e8);
            }
        }
        const _0x55a9b9 = await (0x51e + 0x242 * 0x4 + -0x1 * 0xe26, ShowWhatsAppService_1[_0x463c13(0x146)])(_0x1dbcbe, _0x16d8b1), _0x5f166a = {};
        _0x5f166a[_0x463c13(0xfc)] = _0x255029, _0x5f166a[_0x463c13(0x13d)] = _0x39f59d, _0x5f166a[_0x463c13(0x10c)] = _0x4b7901, _0x5f166a[_0x463c13(0xf4) + _0x463c13(0x144)] = _0x3c6f6b, _0x5f166a[_0x463c13(0xf0) + _0x463c13(0x147)] = _0x430b79, _0x5f166a[_0x463c13(0x12f) + _0x463c13(0x147)] = _0xf62cd8, _0x5f166a[_0x463c13(0x11e) + _0x463c13(0x102)] = _0x57e036, _0x5f166a[_0x463c13(0x153)] = _0x574dd0, _0x5f166a[_0x463c13(0x12c)] = _0x16d8b1, _0x5f166a[_0x463c13(0x14a)] = _0x4d303d, _0x5f166a[_0x463c13(0x130) + _0x463c13(0x14d)] = _0x50f019, _0x5f166a[_0x463c13(0x142) + 'e'] = sendIdQueue, _0x5f166a[_0x463c13(0x145)] = _0x3ee3a0, _0x5f166a[_0x463c13(0x10f) + _0x463c13(0x104)] = _0x3f2717, _0x5f166a[_0x463c13(0x12b) + _0x463c13(0x11b)] = _0x193d14, _0x5f166a[_0x463c13(0x148) + _0x463c13(0x152)] = _0x7c4c16, _0x5f166a[_0x463c13(0x143) + _0x463c13(0x11f) + 'ge'] = _0x455a95, await _0x55a9b9[_0x463c13(0xf7)](_0x5f166a), await (0x213a + 0x1155 * -0x1 + -0x139 * 0xd, AssociateWhatsappQueue_1[_0x463c13(0x146)])(_0x55a9b9, queueIds);
        const _0x31aaf6 = {};
        return _0x31aaf6[_0x463c13(0xf6)] = _0x55a9b9, _0x31aaf6[_0x463c13(0x109) + _0x463c13(0x132)] = _0x289d72, _0x31aaf6;
    };
function _0x34b1() {
    const _0x4f25df = [
        'ctiveMessa',
        '2092878wSFyBQ',
        'yup',
        'erty',
        '__setModul',
        'defineProp',
        'uynYL',
        'get',
        'ertyDescri',
        'boolean',
        'prototype',
        'validate',
        'timeUseBot',
        'companyId',
        '3735805FmRnho',
        '__importSt',
        'outOfHours',
        'timeSendQu',
        'bleci',
        'Whatsapp',
        '../../erro',
        'split',
        '244731hzlIMb',
        'object',
        'not',
        'hasOwnProp',
        'eAfXx',
        'sAppServic',
        'ijIwe',
        '__importDe',
        'status',
        '252028yzpWcf',
        'writable',
        'configurab',
        'kwSJA',
        'sendIdQueu',
        'expiresIna',
        'ssage',
        'promptId',
        'default',
        'Message',
        'expiresTic',
        'eDefault',
        'token',
        '2576058LrZUkc',
        './ShowWhat',
        'eue',
        'getOwnProp',
        'uLcoL',
        'enumerable',
        'rs/AppErro',
        'ket',
        'isDefault',
        'shape',
        '4183992bVOAMl',
        'complation',
        'bsgrP',
        '4|2|1|3|0',
        'QUIRED',
        'greetingMe',
        'fault',
        'whatsapp',
        'update',
        '4nLjfAU',
        'sequelize',
        'zVZLE',
        'min',
        'name',
        'OynsA',
        'where',
        'ptor',
        'string',
        'nding',
        'age',
        '../../mode',
        'ueues',
        'glYPA',
        '2388715XGndnX',
        'ls/Whatsap',
        'REETING_RE',
        'oldDefault',
        'ZNXHk',
        '__createBi',
        'session',
        'ueue',
        '2SruhSL',
        'maxUseBotQ',
        'message',
        './Associat',
        'BxYEI',
        'ERR_WAPP_G',
        'length',
        'eNvVn',
        'create',
        'value',
        'findOne',
        'qtEHK',
        'call',
        'Queues',
        '__esModule',
        'eWhatsappQ',
        'ratingMess'
    ];
    _0x34b1 = function () {
        return _0x4f25df;
    };
    return _0x34b1();
}
exports[_0xac1791(0x146)] = UpdateWhatsAppService;