'use strict';
const _0x350265 = _0x50c6;
(function (_0x156055, _0x72acae) {
    const _0x18ac49 = _0x50c6, _0x579992 = _0x156055();
    while (!![]) {
        try {
            const _0xcbc3ca = parseInt(_0x18ac49(0x185)) / (-0xa * -0xad + -0xd * -0x16f + -0x1964) * (parseInt(_0x18ac49(0x16c)) / (-0x1857 + 0x5 * -0x633 + -0x17 * -0x268)) + parseInt(_0x18ac49(0x16e)) / (0x18e9 + 0x17df + 0x37 * -0xe3) + parseInt(_0x18ac49(0x169)) / (-0x1 * 0x1519 + -0x40a * 0x6 + 0x2d59) * (-parseInt(_0x18ac49(0x170)) / (-0x601 + -0x217 + -0x1f * -0x43)) + parseInt(_0x18ac49(0x192)) / (-0x2 * -0x71b + 0x1729 + -0x3 * 0xc73) + -parseInt(_0x18ac49(0x172)) / (-0xd34 + -0xe8c * 0x2 + 0x877 * 0x5) * (-parseInt(_0x18ac49(0x17f)) / (0x235b + 0x3 * 0xcb + 0x96d * -0x4)) + -parseInt(_0x18ac49(0x187)) / (-0x365 * 0x3 + -0x8 * -0x76 + 0x688) + parseInt(_0x18ac49(0x179)) / (-0x1bed + -0x10b8 * 0x2 + -0x3d67 * -0x1);
            if (_0xcbc3ca === _0x72acae)
                break;
            else
                _0x579992['push'](_0x579992['shift']());
        } catch (_0x366a50) {
            _0x579992['push'](_0x579992['shift']());
        }
    }
}(_0x1dfb, 0x1f73 + -0x19 * -0x66c7 + 0x33a28 * 0x1));
function _0x50c6(_0x3f7ae3, _0x366459) {
    const _0x387d92 = _0x1dfb();
    return _0x50c6 = function (_0x21902e, _0x1e9c0a) {
        _0x21902e = _0x21902e - (0xbf + -0x7f5 * -0x4 + -0x1 * 0x1f35);
        let _0x62a643 = _0x387d92[_0x21902e];
        return _0x62a643;
    }, _0x50c6(_0x3f7ae3, _0x366459);
}
var __importDefault = this && this[_0x350265(0x164) + _0x350265(0x160)] || function (_0x2c2a90) {
    const _0x4918e9 = _0x350265;
    return _0x2c2a90 && _0x2c2a90[_0x4918e9(0x180)] ? _0x2c2a90 : { 'default': _0x2c2a90 };
};
const _0x297712 = {};
_0x297712[_0x350265(0x18b)] = !![], Object[_0x350265(0x186) + _0x350265(0x195)](exports, _0x350265(0x180), _0x297712);
const socket_1 = require(_0x350265(0x162) + _0x350265(0x15f)), Message_1 = __importDefault(require(_0x350265(0x17c) + _0x350265(0x18c))), Ticket_1 = __importDefault(require(_0x350265(0x17c) + _0x350265(0x189))), Whatsapp_1 = __importDefault(require(_0x350265(0x17c) + _0x350265(0x178) + 'p')), CreateMessageService = async ({
        messageData: _0x1f20ac,
        companyId: _0x344733
    }) => {
        const _0xc15a7e = _0x350265, _0x2c2c4c = {};
        _0x2c2c4c[_0xc15a7e(0x18d)] = _0xc15a7e(0x166), _0x2c2c4c[_0xc15a7e(0x190)] = _0xc15a7e(0x181), _0x2c2c4c[_0xc15a7e(0x174)] = _0xc15a7e(0x168), _0x2c2c4c[_0xc15a7e(0x17d)] = _0xc15a7e(0x183), _0x2c2c4c[_0xc15a7e(0x17e)] = _0xc15a7e(0x163), _0x2c2c4c[_0xc15a7e(0x184)] = _0xc15a7e(0x16f), _0x2c2c4c[_0xc15a7e(0x191)] = function (_0x287847, _0x17aefd) {
            return _0x287847 !== _0x17aefd;
        }, _0x2c2c4c[_0xc15a7e(0x18e)] = function (_0xb267d7, _0x2d3963) {
            return _0xb267d7 === _0x2d3963;
        }, _0x2c2c4c[_0xc15a7e(0x18a)] = _0xc15a7e(0x167) + _0xc15a7e(0x16b), _0x2c2c4c[_0xc15a7e(0x177)] = _0xc15a7e(0x194) + 'on', _0x2c2c4c[_0xc15a7e(0x193)] = _0xc15a7e(0x171);
        const _0xc68007 = _0x2c2c4c, _0xdcfc55 = { ..._0x1f20ac };
        _0xdcfc55[_0xc15a7e(0x16a)] = _0x344733, await Message_1[_0xc15a7e(0x161)][_0xc15a7e(0x16d)](_0xdcfc55);
        const _0x2a201c = await Message_1[_0xc15a7e(0x161)][_0xc15a7e(0x173)](_0x1f20ac['id'], {
            'include': [
                _0xc68007[_0xc15a7e(0x18d)],
                {
                    'model': Ticket_1[_0xc15a7e(0x161)],
                    'as': _0xc68007[_0xc15a7e(0x190)],
                    'include': [
                        _0xc68007[_0xc15a7e(0x18d)],
                        _0xc68007[_0xc15a7e(0x174)],
                        {
                            'model': Whatsapp_1[_0xc15a7e(0x161)],
                            'as': _0xc68007[_0xc15a7e(0x17d)],
                            'attributes': [_0xc68007[_0xc15a7e(0x17e)]]
                        }
                    ]
                },
                {
                    'model': Message_1[_0xc15a7e(0x161)],
                    'as': _0xc68007[_0xc15a7e(0x184)],
                    'include': [_0xc68007[_0xc15a7e(0x18d)]]
                }
            ]
        });
        _0xc68007[_0xc15a7e(0x191)](_0x2a201c[_0xc15a7e(0x181)][_0xc15a7e(0x18f)], null) && _0xc68007[_0xc15a7e(0x18e)](_0x2a201c[_0xc15a7e(0x18f)], null) && await _0x2a201c[_0xc15a7e(0x17b)]({ 'queueId': _0x2a201c[_0xc15a7e(0x181)][_0xc15a7e(0x18f)] });
        if (!_0x2a201c)
            throw new Error(_0xc68007[_0xc15a7e(0x18a)]);
        const _0x1d68c7 = (-0xdf * -0x1e + -0x200d + 0x5eb, socket_1[_0xc15a7e(0x182)])();
        return _0x1d68c7['to'](_0x2a201c[_0xc15a7e(0x176)][_0xc15a7e(0x165)]())['to'](_0x2a201c[_0xc15a7e(0x181)][_0xc15a7e(0x17a)])['to'](_0xc68007[_0xc15a7e(0x177)])[_0xc15a7e(0x175)](_0xc15a7e(0x15e) + _0x344733 + (_0xc15a7e(0x188) + 'e'), {
            'action': _0xc68007[_0xc15a7e(0x193)],
            'message': _0x2a201c,
            'ticket': _0x2a201c[_0xc15a7e(0x181)],
            'contact': _0x2a201c[_0xc15a7e(0x181)][_0xc15a7e(0x166)]
        }), _0x2a201c;
    };
function _0x1dfb() {
    const _0x5188f6 = [
        '3419420ZTsGOW',
        'companyId',
        'NG_MESSAGE',
        '78910LzOpRF',
        'upsert',
        '4663965aIGajA',
        'quotedMsg',
        '5fwudGv',
        'create',
        '118874DnsIrW',
        'findByPk',
        'Dtshc',
        'emit',
        'ticketId',
        'ldgxS',
        'ls/Whatsap',
        '7166420wOGVfp',
        'status',
        'update',
        '../../mode',
        'FaMzu',
        'oNMSF',
        '8AaOrmQ',
        '__esModule',
        'ticket',
        'getIO',
        'whatsapp',
        'MXCwJ',
        '5SgwlQf',
        'defineProp',
        '10203543zFZsFK',
        '-appMessag',
        'ls/Ticket',
        'yYFRp',
        'value',
        'ls/Message',
        'NIgxW',
        'dwyCE',
        'queueId',
        'EzRkd',
        'gwiff',
        '2282100qLiLrc',
        'qjwmb',
        'notificati',
        'erty',
        'company-',
        '/socket',
        'fault',
        'default',
        '../../libs',
        'name',
        '__importDe',
        'toString',
        'contact',
        'ERR_CREATI',
        'queue'
    ];
    _0x1dfb = function () {
        return _0x5188f6;
    };
    return _0x1dfb();
}
exports[_0x350265(0x161)] = CreateMessageService;